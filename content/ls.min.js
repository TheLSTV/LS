var _window;if(String.prototype.replaceAll||(String.prototype.replaceAll=function(t,e){return"[object regexp]"===Object.prototype.toString.call(t).toLowerCase()?this.replace(t,e):this.replace(new RegExp(t,"g"),e)}),null!==(_window=window)&&void 0!==_window&&_window.Globalise||(window.Globalise=((...t)=>t.map(t=>"string"==typeof t?(()=>{var e;return window[t]=(null===(e=window)||void 0===e?void 0:e[t])||null})():Array.isArray(t)?t.map(t=>{var e;return window[t]=(null===(e=window)||void 0===e?void 0:e[t])||null}):Object.keys(t).map(e=>window[e]=t[e])))),!LS)var LS={
/*--part--(tiny){*/
Util:{resolve:(...t)=>t.flat(1/0).map(t=>null!==t&&void 0!==t&&t.tagName?t:[...N("temp",t).childNodes]).flat()},Tiny:{Q:(t,e)=>{var s;return Object.assign(null===(s=null!==t&&void 0!==t&&t.tagName&&!e?[t]:[...(null!==t&&void 0!==t&&t.tagName?t:D()).querySelectorAll(null!==t&&void 0!==t&&t.tagName?e||"*":"string"==typeof t?t:"*")])||void 0===s?void 0:s.map(t=>(t._affected||Object.assign(t,{_affected:!0,isElement:!0,attr(e=!1,s=!1){if(s)return t.setAttribute(e,s),s;if(e)return t.getAttribute(e);let l=t.attributes,n={};return Object.keys(l).map(t=>n[l[t].nodeName]=l[t].nodeValue),e?n[e]:n},attrAssign(e){"string"==typeof e&&(e={Array:[e]}),Array.isArray(e)&&(e={Array:e}),Object.keys(e).forEach(s=>{"Array"!=s?s&&t.setAttribute(s,e[s]||""):e[s].map(e=>e&&t.setAttribute(e,""))})},delAttr(...e){(e=e.flat(2)).forEach(e=>t.removeAttribute(e))},class(e,s=1){if(void 0===e)return[...t.classList];"string"==typeof e&&(e=e.split(" "));for(let l of e)t.classList["add"==s||s&&"remove"!==s?"add":"remove"](l);return t},hasClass(...e){let s=!0;return e=e.flatMap(e=>{t.classList.contains(e)||(s=!1)}),s},get:(e="*")=>O(t,e),getChildern:e=>Q(t.query()+">"+e||"*"),child:e=>t.children[e||0],getAll:(e="*")=>Q(t,e),add:(...e)=>(t.append(...LS.Util.resolve(...e)),t.self),addBefore(e){LS.Util.resolve(e).forEach(e=>t.parentNode.insertBefore(e,t))},addAfter(e){LS.Util.resolve(e).forEach(e=>t.parentNode.insertBefore(e,t.nextSibling))},addOnce(e){O("#"+e.id)||t.add(e)},on:(e,s)=>(t.addEventListener(e,s),t.self),setStyle:(...e)=>O(t.self,...e),getStyle:e=>O(t.self),set:(...e)=>(t.innerHTML="",t.add(...e)),setText:e=>{t.innerText=e},has:(...e)=>!!e.find(e=>t.get(e)),watch:e=>E(t,e),parent:(e=0)=>"BODY"==t.tagName?t.parentElement:e>0?O(t.parentElement).parent(e-1):t.parentElement,self:t,path:()=>{let e=[t],s=0;for(;"HTML"!=(null===(l=e[e.length-1])||void 0===l?void 0:l.tagName);){var l;e.push(t.parent(s)),s++}return e.reverse()},query:()=>t.path().map(t=>t.tagName+(t.className?"."+t.className.replace(/\s/g,"."):"")+(t.id?"#"+t.id:"")).join(">"),queryPath:t.query}),t.self)),{all(t){for(const[e,s]of this.entries())t(s,e)}})},O:(...t)=>(t=t.length<1?["body"]:t,Q(...t)[0]),D:()=>document,N:(t="div",e)=>{"string"!=typeof t&&(e=t,t="div");let s={};(e=("string"==typeof e?{innerHTML:e}:Array.isArray(e)?{inner:e}:e)||{}).class&&(s.class=e.class,delete e.class);let l=O(Object.assign(D().createElement(t),e));return e.attr&&l.attrAssign(e.attr),s.class&&l.class(s.class),e.style&&"object"==typeof e.style&&S(l,e.style),(e.inner||e.content)&&l.add(e.inner||e.content),l},S:(t,e)=>e?(Array.isArray(t)?t:t?[t]:[O()]).forEach(t=>{t="string"==typeof t?O(t):t,Object.assign(t.style,e)}):t?void 0!==t.id?getComputedStyle(t):"string"==typeof t?O(t):Object.keys(t).map(e=>e+":"+t[e]).join(";"):O(),E:(t,e)=>{if("function"!=typeof e){let s=e,l=t;e=(()=>{try{O(Q(l),s)}catch(t){}}),t=O()}return new(window.MutationObserver||window.WebKitMutationObserver)(t=>{e([...t[0].addedNodes].map(t=>O(t)),[...t[0].removedNodes].map(t=>O(t)))}).observe(t,{childList:!0,subtree:!0}),O(t)},T:(t,e,s=(t=>{}))=>{let l;try{l=t()}catch(t){l=e,s(t)}return l},U:(t=location.href)=>Object.assign(new URL(t),{goTo(){location.href=t},open(){open(t)},fetch:async e=>await fetch(t,e),replace(){location.replace(t)},params(e=!1){if(!t.includes("?"))return e?null:{};let s={};return t.replaceAll(/(.*?)\?/gi,"").split("&").forEach(t=>{var e;t=t.split("="),s[t[0]]=decodeURIComponent(null===(e=t)||void 0===e?void 0:e[1]).replace(/#(.*)/g,"")}),e?s[e]:s}}),M:{x:0,y:0,_GlobalID:{count:0,prefix:Math.round(1e3*Math.random())},lastKey:null,mouseDown:!1,on:(...t)=>(addEventListener(...t),M),get GlobalIndex(){return M._GlobalID.count++,+(M._GlobalID.prefix+""+M._GlobalID.count)},get GlobalID(){return M.GlobalIndex.toString(36)}}}
/*--}*/};
/*--part--(tiny){*/if(Globalise(LS.Tiny),M.on("mousemove",t=>{M.x=t.clientX,M.y=t.clientY}).on("keypress",t=>M.lastKey=t.key).on("mousedown",t=>M.mouseDown=!0).on("mouseup",t=>M.mouseDown=!1),
/*--}*/
(t=>{Object.keys(t).forEach(e=>{LS[e]?console.warn('[LS] Duplicate component name "'+e+'"'):(LS[e]=function(...t){return function(...t){return LS[e].isFunction?LS[e].class({})(...t):(t[0]instanceof Element&&(t[0]=t[0].id||"default"),LS[e].list[t[0]||"default"]||LS[e].new(...t))}(...t)},LS[e].new=function(t,...s){if(s[0]instanceof Element){if(s[0]=O(s[0]),s[0].attr("ls-component")==e.toLowerCase())return LS[e].list[t]||void 0;s[0].attr("ls-component",e.toLowerCase())}let l=new(LS[e].class({}))(t,...s);return l.listeners=[],l.events=[],l.on=function(t,e,s){return this.listeners.push({for:t,f:e,id:M.GlobalID,...s}),this},l.once=function(t,e,s){return this.on(t,e,{once:!0,...s}),this},l.invoke=function(t,...e){this.events.includes(t)||this.events.push(t),this.listeners.filter(e=>e.for==t).forEach(t=>{t.f(...e),t.once&&(this.listeners=this.listeners.filter(t=>t.id!=t.id))})},l._init&&l._init(),t&&(LS[e].list[t]=l),l},LS[e].set=function(t,s){LS[e][t]=s},LS[e].list={},LS[e].class=t[e](LS[e]),LS[e].isSingular?LS[e]=LS[e].new("global"):(LS[e].registerGroup=((t,s)=>{(t=[...O(t).children]).forEach(t=>{new LS[e].new(t.id||"default",t,s)})}),LS[e].batch=((t,s)=>{"string"==typeof t&&(t=Q(t)),t.forEach(t=>new LS[e].new(t.id||"default",t,s))}),LS[e].observe=((t,e)=>{E(t,(t,e)=>{t.forEach(t=>{t.tagName})})})))})})({
/*--part--(events){*/
Events:t=>(t.isSingular=!0,t=>(class{})),
/*--}--part--(modal){*/
Modal:()=>t=>(class{constructor(e,s=N(),l={}){t=this,this.options=Object.assign({target:O()},l),this.isOpen=!1,this.contentElement=s,this.element=N("div",{attr:{"ls-modal":"true"},className:"closed",style:l.style,onclick:t=>{l.cancelable&&O(t.target).attr("ls-modal")&&this.hide()},inner:[s]}),(this.options.target||O()).add(this.element),this.open=t.show,this.close=t.hide}show(){t.element.style.zIndex=LS.Modal.layer||5e3,LS.Modal.layer=(LS.Modal.layer||5e3)+1,t.invoke("open"),t.element.class("closed",0),t.isOpen=!0}hide(){t.invoke("close"),t.element.class("closed"),t.options.onclose&&t.options.onclose(),t.isOpen=!1,!1===t.options.keep&&setTimeout(()=>t.destroy(),1e3)}destroy(){t.element.remove()}}),
/*--}--part--(dialog){*/
Dialog:t=>(t.set("isFunction",!0),t=>(t={})=>{var e,s,l,n,i,o;t=Object.assign({title:"Alert",content:"",cancelable:!0,buttons:[{text:"OK"},{text:"Cancel",color:"gray"}],loading:!1,keep:!1,use:!1},t);let a=new LS.Modal.new(null,t.use?t.use:N("div",{inner:[N("span",{inner:[N("b",null!==(e=t)&&void 0!==e&&e.title?t.title+"<br>":""),N("span",null===(s=t)||void 0===s?void 0:null===(l=s.content)||void 0===l?void 0:null===(n=l.trim)||void 0===n?void 0:n.call(l))]}),N("div",{inner:t.loading?[N("div",{attr:["ls-load"]})]:null===(i=t.buttons)||void 0===i?void 0:null===(o=i.map)||void 0===o?void 0:o.call(i,t=>N("button",Object.assign({attr:["ls","fluent",t.color?"ls-"+t.color:"ls-blue"],inner:t.text},(null===t||void 0===t?void 0:t.element)||{}))),attr:["dialog_bottom"]})],attr:["ls-dialog-body","ls-modal-body"]}),t);return a.element.getAll("button").forEach(t=>t.on("click",a.close)),setTimeout(()=>a.show(),20),{element:a.element,close:a.hide,hide:a.close,open:a.show,show:a.open,destroy:a.destroy}}),
/*--}--part--(tabs){*/
Tabs:()=>t=>(class{constructor(e,s=O("tabs"),l={}){if("string"==typeof s&&(s=Q(s)),!s)throw"No element provided";t=this,this.element=O(s),this.opt=Object.assign({list:!0,listClass:"",listItemClass:"",listClickable:!0,noStyle:!1,listElement:null,infinite:!0},T(()=>JSON.parse(t.element.attr("tab-options")),{}),l),this.tabs=this.opt.select?O(s).getAll(this.opt.select):[...O(s).children],this.list=[],this.opt.listElement&&(t.opt.listElement.className=t.opt.listElement.className+" tablist "+t.opt.listClass),this.opt.list&&(t._list=t.opt.listElement||N("div",{className:"tablist "+t.opt.listClass}),t.opt.listElement||O(s).prepend(t._list)),this.tabs.forEach(t=>this.register(t))}_init(){t.update(),t.setActive(0)}setActive(e,s=0){"number"==typeof e&&(e=t.list[e]);let l=e.attr("for"),n=O('[tab-id="'+l+'"]'),i=t.list.indexOf(e);(t.activeTab!=l||s)&&(t.list.forEach(t=>t.classList.remove("active")),e.classList.add("active"),t.tabs.forEach(t=>t.style.display="none"),n.style.display="",t.element.attr("active-tab",l),t.activeTab=l,t.tab=i,t.invoke("tab_changed",i))}update(){}add(e,s=N(),l={}){let n=N("tab",{inner:s,attr:{"tab-title":e}});return l.id&&(n.id=l.id),this.element.add(n),t.tabs.push(n),this.register(n),n.id}remove(t){}register(e){(e=O(e)).attr("tab-id")||e.attr("tab-id",e.id||"tab_"+M.GlobalID);let s=N("div",{innerHTML:e.attr("tab-title"),attr:{for:e.attr("tab-id")},className:"_tab "+(t.opt.noStyle?"":"_tab_style ")+t.opt.listItemClass,onclick:function(){t.opt.listClickable&&t.setActive(this)}});t.list.push(s),t.opt.list&&t._list.add(s)}unregister(t){}next(){t.tab=t.tab>t.length()-2?t.opt.infinite?0:t.tab:t.tab+1,t.setActive(t.tab)}previous(){t.tab=t.tab<1?t.opt.infinite?t.length()-1:t.tab:t.tab-1,t.setActive(t.tab)}length(){return t.tabs.length}}),
/*--}--part--(steps){*/
Steps:()=>t=>(class{constructor(e,s=O("steps"),l={}){t=this,s=O(s),l.prevBtn||(l.prevBtn=N("button","Previous"),s.add(l.prevBtn)),l.nextBtn||(l.nextBtn=N("button","Next"),s.add(l.nextBtn)),this.opt=Object.assign({listElement:null,doneText:"Done",select:"step"},l),this.tabs=LS.Tabs.new("step_tabs_"+e,s,{listClass:"ls-steps",select:this.opt.select,listItemClass:"ls-steps-item",noStyle:!0,listElement:this.opt.listElement,infinite:!1,listClickable:!1}),this.options={},this.element=s,this.stack=[],this.step=0,this.stepIndex=this.tabs.tab;let n=O(this.opt.nextBtn),i=O(this.opt.prevBtn),o=n.innerHTML;n.onclick=(()=>{t.step==this.stack.length-1&&(t.updateOptions(),t.invoke("done",t.options)),t.next()}),i.onclick=t.previous,this.updateStack(),this.tabs.on("tab_changed",e=>{this.stepIndex=e,this.invoke("step_changed",e);let s=this.tabs.tabs[e].attr("required");t.setCanContinue(!0),s&&!this.options[s]&&t.setCanContinue(!1),n.innerHTML=e==this.tabs.length()-1?this.opt.doneText:o,S(i,{opacity:0!=e?"1":".4"})})}_init(){this.reset()}setCanContinue(e=!0){S(t.opt.nextBtn,{opacity:e?"1":".4","pointer-events":e?"all":"none"})}next(){t.updateStack(),t.step<t.stack.length-1&&t.tabs.setActive(t.stack[1+t.step++])}previous(){t.updateStack(),!t.step<1&&t.tabs.setActive(t.stack[t.step---1])}updateStack(){t.stack=[];for(const[e,s]of t.tabs.tabs.entries()){let l=!(!s.attr("if")||s.attr("if").split(";").map(t=>t.split("=")).find(e=>t.options[e[0]]==e[1]));t.tabs.list[e].style.display=l?"none":"",l||t.stack.push(e)}t.stack.forEach((e,s)=>{(e=t.tabs.list[e]).class(["last-child","only-child","first-child"],0),t.stack.length<2?e.class("only-child"):(0==s&&e.class("first-child"),s==t.stack.length-1&&e.class("last-child"))})}updateOptions(){t.tabs.tabs.forEach(e=>{e.getAll("[option],[option-radio]").forEach((s,l)=>{let n=s.hasAttribute("option-radio");function i(l=!1){let i=!(!l||!s.classList.contains("selected"));n&&!i&&t.element.getAll('[option-radio][group="'+s.attr("group")+'"]').forEach(t=>t.classList.remove("selected")),i&&(t.options[s.attr("group")]=null),(!l&&(n&&s.classList.contains("selected")||!n)||l&&!s.classList.contains("selected"))&&(t.options[s.attr("group")]=s.value||s.attr("value")||s.attr("option-radio")||s.attr("option")||s.attr("title"));let o=e.attr("required");o&&t.setCanContinue(t.options[o]),l&&t.updateStack()}s.attr("group")||s.attr("group",n?e.attr("name")||e.attr("tab-name"):s.attr("name")||s.attr("id")||s.attr("title")||"input"+l),n&&(s.onclick=(()=>{i(!0),s.classList.toggle("selected")})),i()})})}reset(){t.setCanContinue(!0),t.options={},t.updateOptions(),t.step=0,t.element.getAll("[option].selected").forEach(t=>t.classList.remove("selected")),t.element.getAll("[default]").forEach(t=>t[{IMG:"src"}[t.tagName]||"value"]=O(t).attr("default")),t.tabs.setActive(0,1),t.updateStack()}}),
/*--}--part--(navbar){*/
Navbar:()=>t=>(class{constructor(t,e){e||(e=O("nav[ls]")),e.get||(e=O(e)),e.attr("tabindex","-1"),e.getAll("group").forEach(t=>t.attr("tabindex","-1")),e.getAll("items").forEach(t=>{t.attr("itemgroup-id",M.GlobalID)}),e.getAll("nav>dropdown,nav>group>dropdown").map(t=>{let s=t.tagName;t.onmouseenter=(()=>{"string"!=typeof t.attr("no-drop")&&(e.getAll(s).forEach(t=>t.classList.remove("active")),t.classList.add("active"))})})}}),
/*--}--part--(select){*/
Select:()=>t=>(class{constructor(e,s){s||(s=O("select,ls-select")),t=this,this.selectElement=s,this.element=N({attr:{tabindex:1,title:s.attr("title"),"ls-h-scroll":""},class:"ls-select"}),this.menu=N({attr:{tabindex:1},class:"ls-select-menu",inner:[N("input",{placeholder:"Search",oninput:function(){t.menu.getAll(".ls-select-option").forEach(t=>t.style.display=(t.innerText+t.attr(this.value)).toLowerCase().replace(/[\s\n:|_]/g,"").includes(this.value.toLowerCase().replace(/[\s\n:|_]/g,""))?"block":"none")}}),"<hr>",N({class:"ls-select-options"})]}),O().add(this.menu),s.style.display="none",s.addAfter(this.element),s.on("change",()=>this.set()),M.on("resize",()=>{this.shown&&this.position()}),M.on("scroll",()=>{this.shown&&this.position()},!0),this.shown=!1,this.element.on("click",()=>this.toggle()).on("keydown",t=>{13==t.keyCode&&this.toggle()}),addEventListener("click",t=>{if(this.shown&&t.target!==this.element){let t=this.menu.getBoundingClientRect();M.x>t.left&&M.x<t.right&&M.y>t.top&&M.y<t.bottom||this.hide()}}),this.update(),this.set()}get(){return t.element.attr("value")}set(e=t.selectElement.value,s){t.selectElement.value=e,t.element.setText(s||e),t.element.attr("value",e),this.hide()}update(){t.menu.get(".ls-select-options").set(t.selectElement.getAll("optgroup,option,ls-option").map(e=>N("OPTGROUP"==e.tagName?{inner:e.attr("label"),class:"ls-select-label"}:{inner:e.innerHTML,attr:{value:e.attr("value")||"","ls-h-scroll":""},class:"ls-select-option"+("OPTGROUP"==e.parentElement.tagName?" ls-select-labeled":""),style:e.parentElement.hasAttribute("disabled")||e.attr("disabled")?"opacity:.4;pointer-events:none":"",onclick:function(){t.set(this.attr("value")||this.innerText,this.innerText)}})))}toggle(){t[t.shown?"hide":"show"]()}show(){t.shown||(t.shown=!0,t.position(),t.element.classList.add("open"))}position(){let e=t.element.getBoundingClientRect();t.menu.style=`left:${e.left}px;width:${e.width}px;top:${e.top+e.height}px;max-height:${Math.min(innerHeight-(e.top+e.height+20),400)}px`,S(t.menu,{display:"block"})}hide(){t.shown&&(t.shown=!1,S(t.menu,{display:"none"}),t.element.classList.remove("open"))}}),
/*--}--part--(chips){*/
Chips:()=>t=>(class{constructor(e,s=O("chips"),l={}){if(s=O(s),this.options=Object.assign({},l),!s)throw"No element selected/found!";t=this,this.e=s,this.id=e,this.updateChips(),this.filter()}updateChips(){t.chips=t.e.getAll("[ls-chip]"),t.chips.forEach(e=>e.onclick=function(){t.chips.filter(t=>t!=this).forEach(t=>t.removeAttribute("selected")),this.toggleAttribute("selected"),t.filter()})}getSelected(){return t.chips.filter(t=>"string"==typeof t.attr("selected")).map(t=>t.attr("ls-chip"))}filter(){t.getSelected().length<1&&this.chips[0].attr("selected",""),Q('[ls-chip-filter*="'+t.id+':"]').forEach(e=>{e.style.display=t.getSelected().find(t=>e.attr("ls-chip-filter").match(/:(.*)/)[1].split(",").includes(t))?"unset":"none"})}}),
/*--}--part--(tree){*/
Tree:()=>t=>(class{constructor(t,e,s,l={}){this.options=Object.assign({class:"tree-view"},l),s||null===s||(s=e,e=null),l.hadler&&(this.Handler=l.handler),this.Element=O(e),this.Element.add(N("ul",{className:this.options.class,attr:{path:"/"}})),this.List=this.Element.get("ul"),s&&this.Expand(this.List,s)}async Expand(t,e){(t="SUMMARY"!==t.tagName?t="UL"==t.tagName?O(t):O(t).get("ul"):t.parent().get("ul")).set(e.map(e=>{var s=this,l=(t.attr("path")||"")+"/"+e;return N("li",{inner:[N("details",{inner:[N("summary",{innerHTML:"<span>"+_.escape(e)+"</span>",onclick:async function(){this.attr("explored")||(s.Expand(this,await s.Handler(l,this)),this.attr("explored",""))}}),N("ul",{attr:{path:l}})]})]})}))}async Handler(t,e){return["yellow","blue","red"]}}),
/*--}--part--(menubar){*/
Menubar:()=>t=>(class{constructor(t,e=O("menubar"),s={}){if(!e)throw"No element found for menubar.";this.element=O(e)}}),
/*--}--part--(notif){*/
Notif:()=>t=>(class{constructor(e,s={}){this.el=N({class:"ls-notif-area",style:`width:${s.width||300}px`,inner:[N({class:"ls-notif-scroll",inner:N({class:"ls-notif-container"})}),N({class:"ls-notif-hide",inner:"<i class=bi-caret-down-fill></i>",onclick:()=>{t.el.classList.toggle("hidden")}})]}),O().add(this.el),t=this}push(e){return new Promise(s=>{"string"==typeof e&&(e={content:e}),e=Object.assign({},e);let l=N({class:"ls-notif",inner:[e.title?N("b",e.title+"<br>"):"",e.content],style:"color:var(--color-bg)",attr:[e.color?"ls-"+e.color:""]});t.el.get(".ls-notif-container").add(l);let n=setInterval(()=>t.el.get(".ls-notif-scroll").scroll(0,t.el.get(".ls-notif-scroll").scrollHeight),1);setTimeout(()=>{l.classList.add("shown"),setTimeout(()=>{clearInterval(n),s()},200)},10)})}revoke(){}}),
/*--}--part--(console){*/
Console:()=>t=>(class{constructor(e,s=O("console"),l={}){if(!s)throw"No element found for console.";this.element=O(s),this.lines=0,this.opt=Object.assign({timestamp:!0,proxy:!1,overwrite:!1,highlightJS:!0,scroll:!0,max_lines:350},l),(t=this).opt.overwrite&&(this._console=Object.assign(console,this.__proto__),console=this)}addLine(e,...s){t.lines>=t.opt.max_lines&&(t.element.child().remove(),t.lines--);let l="",n=0;e=Object.assign({proxy:"log",color:""},e),t.opt.proxy&&t._console[e.proxy](...s),s=s.map(t=>"object"==typeof t?JSON.stringify(t,null,4):"function"==typeof t?"<i>%{#aaa}"+t.toString()+"%{/}</i>":"number"==typeof t?"%{#35f}"+t+"%{/}":"boolean"==typeof t?"%{#a5f}"+(t?"true":"false")+"%{/}":t);let i=0;for(const[t,e]of s.entries())s[t]=e.split("%{").map(t=>{let e=t.indexOf("}");if(-1!=e){let s=t.split("}")[0];return"/"==s?(i>0?1+i--&&"</span>":"")+t.substring(e+1):(i++,'<span style="'+s.split(";").map(t=>t.includes(":")?t:t.split(",").map((t,e)=>`${["color","background","outline","font-style","font-weight","text-decoration","cursor"][e]||"color"}:${t||"unset"}`).join(";")).join(";")+'">'+t.substring(e+1))}return t}).join("");this.opt.timestamp&&(n=(l=`[${(l=new Date).getMonth()+1}.${l.getDate()}.${l.getFullYear()} ${l.getHours()}:${l.getMinutes()}:${l.getSeconds()}] `).length,l=`<span style=color:gray>${l}</span>`),l=("log"!==e.proxy?` <i class=bi-${{error:"x-circle-fill",info:"info-circle-fill",warn:"exclamation-triangle-fill",success:"check-circle-fill"}[e.proxy]||""}></i> `:"")+l;let o=N("span",{innerHTML:`<span style=color:${e.color||t.opt.color||"inherit"}>${l}${s.join("\n"+" ".repeat(n))}\n`+"</span>".repeat(i+1)});t.element.add(o),t.invoke("line",o.textContent),t.opt.scroll&&t.element.scroll(0,t.element.scrollHeight+500),t.lines++}log(...e){t.addLine({},...e)}clear(){t.element.set(),t.lines=0,t.opt.proxy&&t._console.clear(),t.invoke("clear")}get(){}error(...e){t.addLine({proxy:"error",color:"#f55"},...e)}warn(...e){t.addLine({proxy:"warn",color:"#fb2"},...e)}success(...e){t.addLine({proxy:"success",color:"#5f5"},...e)}info(...e){t.addLine({proxy:"info",color:"#5ff"},...e)}}),
/*--}--part--(editor){*/
Editor:t=>(t.set("themes",{base:{textarea:"all:revert;position:absolute;inset:0;outline:none;background:#0000;color:#0000;resize:none;border:none"},light:{body:"background:#fff;color:#000;woú:0"},dark:{include:"base",body:"background:#232a2f;color:#eee"}}),e=>(class{constructor(s,l,n){this.opt=Object.assign({indent:"    "},n),this.element=O(l||N("editor")),S(this.element,{position:"relative",width:this.element.attr("width")||"400px",height:this.element.attr("height")||"250px",display:"block"}),this.element.className="ls-editor-body",e=this,this.style(t.themes.dark),this.element.set([N("div",{className:"ls-editor-inner",style:S({position:"absolute",display:"block",width:"100%",height:"100%"}),inner:[N("div",{className:"ls-editor-overlay",style:S({position:"absolute","pointer-events":"none",inset:"0","white-space":"pre"})}),N("textarea",{className:"ls-editor-edit ls-editor-text",inner:["hi"],oninput:function(){e.element.get(".ls-editor-overlay").innerHTML=this.value}})]})])}style(s){let l={};!function e(s){s&&Object.keys(s).forEach(n=>{let i={};if("include"==n)return s[n].split(",").forEach(s=>e(t.themes[s]));l[n]=l[n]||{},s[n].split(";").map(t=>t.split(":").map(t=>t.trim())).forEach(t=>i[t[0]]=t[1]),Object.assign(l[n],i)})}(s),Object.keys(l).forEach(t=>{console.warn(e.element.querySelectorAll("*")),("body"==t?[e.element]:e.element.querySelectorAll(t)).forEach(e=>{console.log(1,e,l[t]),S(e,l[t])})}),console.log(l)}addTheme(e,s){t.themes[e]=s}set(){}get(){}}))
/*--}*/}),!dialog)var dialog=LS.Dialog;if(!modal)var modal=dialog;Globalise({alert:(t,e={})=>new Promise(s=>modal(Object.assign({content:t,buttons:[{text:"OK"}],onclose:s},e))),confirm:(t,e={})=>new Promise(s=>modal(Object.assign({content:t,buttons:[{text:"OK"},{text:"Cancel"}],onclose:s},e))),prompt:(t,e={})=>new Promise(s=>modal(Object.assign({content:t+"<br><input type=text ls fluent>",buttons:[{text:"OK"},{text:"Cancel"}],onclose:s},e)))});